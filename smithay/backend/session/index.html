<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Abstraction of different session APIs."><meta name="keywords" content="rust, rustlang, rust-lang, session"><title>smithay::backend::session - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-36393ba397788895.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../../static.files/light-a21928845c7a186a.css"><link rel="stylesheet" disabled href="../../../static.files/dark-90fc67ff25a42f29.css"><link rel="stylesheet" disabled href="../../../static.files/ayu-d75a8bbde915b8ed.css"><script id="default-settings" ></script><script src="../../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../../../static.files/main-458bffc4c06ccf37.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../smithay/index.html"><div class="logo-container"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../../smithay/index.html"><div class="logo-container"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module session</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Module <a href="../../index.html">smithay</a>::<wbr><a href="../index.html">backend</a>::<wbr><a class="mod" href="#">session</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../../src/smithay/backend/session/mod.rs.html#1-198">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Abstraction of different session APIs.</p>
<p>Sessions provide a way for multiple graphical systems to run in parallel by providing
mechanisms to switch between and handle device access and permissions for every running
instance. They are crucial to allow unprivileged processes to use graphical or input
devices.</p>
<p>The functions of the provided interfaces lies in two main components: the ability to
open privileged devices, and be notified about when the session is paused and resumed
(for example when the user switches to an other TTY, or is the computer goes to sleep).</p>
<h3 id="general-use"><a href="#general-use">General use</a></h3>
<p>Session handling in Smithay is done through a pair of types that each session provider implements.</p>
<p>The first is a handle implementing the <a href="trait.Session.html" title="Session"><code>Session</code></a> trait, which allows you to request the opening
of devices, a VT change, or information about the session state.</p>
<p>The second is a notifier which informs you when the session is enabled or disabled by the system.
This notifier takes the form of a [<code>calloop</code>] event source, but it does not generates any event
directly. Instead, it gives you a <a href="../../utils/signaling/struct.Signaler.html"><code>Signaler</code></a> that you can
pass around to other backend modules that need to be notified of the new session state, to stop
accessing the devices while the session is disabled. Notable examples are the
<a href="../libinput/index.html"><code>libinput</code></a> and <a href="../drm/index.html"><code>drm</code></a> backends.</p>
<h3 id="available-providers"><a href="#available-providers">Available providers</a></h3>
<p>This module provides session implementations based on different providers:</p>
<ul>
<li>Through <a href="https://sr.ht/~kennylevinsen/seatd/">libseat</a>, gated by the <code>backend_session_libseat</code>
cargo feature</li>
<li>Through logind or elogind, gated by the <code>backend_session_logind</code> and <code>backend_session_elogind</code>
cargo features (which are incompatible with each other)</li>
<li>Through the direct kernel VT interface. This last option is intended as a fallback, as this is
a legacy API.</li>
</ul>
<p>In general, you’ll want to use the <a href="auto/index.html" title="auto"><code>auto</code></a> wrapper, that automatically discovers which
provider is available and selects the “best” one (in the order of the previous list). See the
module-level documentation of each provider for its precise usage.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="auto/index.html" title="smithay::backend::session::auto mod">auto</a></div><div class="item-right docblock-short">Implementation of the <a href="trait.Session.html" title="Session"><code>Session</code></a> trait through various implementations
automatically choosing the best available interface.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="direct/index.html" title="smithay::backend::session::direct mod">direct</a></div><div class="item-right docblock-short">Implementation of the <a href="trait.Session.html"><code>Session</code></a> trait through the legacy vt kernel interface.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="logind/index.html" title="smithay::backend::session::logind mod">logind</a></div><div class="item-right docblock-short">Implementation of the <a href="trait.Session.html"><code>Session</code></a> trait through the logind dbus interface.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Signal.html" title="smithay::backend::session::Signal enum">Signal</a></div><div class="item-right docblock-short">Signals that can be generated by a session</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.AsErrno.html" title="smithay::backend::session::AsErrno trait">AsErrno</a></div><div class="item-right docblock-short">Allows errors to be described by an error number</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Session.html" title="smithay::backend::session::Session trait">Session</a></div><div class="item-right docblock-short">General session interface.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="smithay" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.0-nightly (ff8c8dfbe 2022-11-22)" data-search-js="search-df80cc3cb87b6482.js" data-settings-js="settings-7e1cf5cc683233f7.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>